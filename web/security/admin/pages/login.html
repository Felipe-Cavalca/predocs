<!DOCTYPE html>
<html lang="pt-br">

<head>
    <title>Admin</title>
</head>

<body>
    <section style="margin: 40px">
        <H1>Login do painel administrativo</H1>

        <form action="login" method="POST" id="login">
            <div class="mb-3">
                <label for="login" class="form-label">login</label>
                <input name="login" type="text" class="form-control" id="login">
            </div>
            <div class="mb-3">
                <label for="senha" class="form-label">senha</label>
                <input name="senha" type="password" class="form-control" id="senha">
            </div>
            <button type="submit" class="btn btn-primary">Submit</button>
        </form>
    </section>

    <script type="text/javascript">
        const Lis = {
            Ncomponents: [
                "nav"
            ],
            init() {
            },
        };
    </script>
    <script id="coreJs" src="../coreJs/"></script>
    <script>
        document.querySelector("form").addEventListener(
            "submit",
            async function (event) {
                event.preventDefault();
                const data = new FormData(event.target);

                var url = "login";
                $retorno = JSON.parse(await Lis.post(url, data));

                if ($retorno['stts'] == true) {
                    window.location.href = "./";
                } else {
                    alert($retorno["msg"]);
                }
            },
            true
        );
    </script>
</body>

</html>
